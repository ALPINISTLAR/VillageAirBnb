<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Village AirBNB</title>
  <!-- FONT AWESOME -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <!-- ======================================= -->
  <!-- =====         GOOGLE FONTS         ==== -->
  <!-- ======================================= -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <!-- =============================== -->
  <!-- =====       STYLES        ===== -->
  <!-- =============================== -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <!-- Header -->
  <header class="header header__simple">
    <div class="header__container container">
      <a href="/" class="header__logo logo__simple">
        <svg class="logo_icon icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
        </svg>
        <span>VillageAirBNB</span>
      </a>


            <!-- AUTH SECTION -->
<div class="auth-section <%= user ? 'hidden' : '' %>">
    <button class="btn btn-red btn-submit" id="signup-open">sign up</button>
    <button class="btn btn-red btn-submit" id="signin-open">sign in</button>
      </div>
<!-- USER SECTION -->
<div class="user-section <%= user ? '' : 'hidden' %>">
    <div class="user-name">Welcome, <span id="userName"><%= user ? user.name : '' %></span></div>
        <a href="/profile" class="user-profile-link">
        <img class="user-avatar" src="/img/avatar.png" alt="user-avatar" width="50" height="50">
        </a>
      </div>
    </div>
  </header>

  <!-- ************************ -->
  <!-- ***   MAIN SECTION   *** -->
  <!-- ************************ -->
  <main class="main-content">
    <div class="header__container-properties container">
      <section class="search-form-section">
        <div class="search-form-wrapper">
          <form id="main-search-form" action="/search" method="get" class="search-form">

            <!-- Location -->
            <div class="form-group location-group">
              <i class="fa-solid fa-location-dot"></i>
              <input type="text" name="location" id="location" placeholder="Where do you want to go?" autocomplete="off">
            </div>

            <!-- Check In -->
            <div class="form-group check-in-group">
              <input
              type="text"
              id="checkIn"
              class="custom-date-input"
              placeholder="Check in"
              readonly
              >
              <i class="fa-regular fa-calendar date-icon"></i>
            </div>

            <!-- Check Out -->
            <div class="form-group check-out-group">
              <input
              type="text"
              id="checkOut"
              class="custom-date-input"
              placeholder="Check out"
              readonly
              >
              <i class="fa-regular fa-calendar date-icon"></i>
            </div>

            <!-- Guests -->
            <div class="form-group guests-group">
              <select name="guests" id="guests">
                <option value="1" selected>1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
              </select>
              <i class="fa-solid fa-user guest-icon"></i>
              <i class="fa-solid fa-chevron-down select-icon"></i>
            </div>

            <!-- Submit -->
            <div class="form-group submit-group">
              <button class="btn-red btn-submit" type="submit">Search</button>
            </div>

          </form>
        </div>
      </section>
    </div>
    <div id="propertiesGrid" class="properties-grid">
  <% properties.forEach(p => { %>
    <a href="/property/<%= p.id %>" class="property-card">
      <div class="featured-stays-card">
        <div class="featured-stays-card_img--wrp">
          <img src="<%= p.image_url %>" class="featured-stays-card_img" alt="">
        </div>
        <div class="featured-stays-card_info">
          <h3 class="featured-stays-card_title"><%= p.title %></h3>
          <div class="featured-stays-card_location">
            <i class="fa-solid fa-location-dot"></i>
            <%= p.region %>
          </div>
<ul class="featured-stays-card_amenities">
  <% if (p.amenities && p.amenities.length > 0) { %>
    <% p.amenities.forEach(a => { %>
      <li><%= a %></li>
    <% }) %>
  <% } %>
</ul>

          <div class="featured-stays-card_price">
            <b>$<%= p.price_per_night %></b><span>/per night</span>
          </div>
        </div>
      </div>
    </a>
  <% }) %>
    </div>
    <div id="paginationControls"></div>
  </main>
  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer__container container">
      <div class="footer-logo-info">
        <a href="/" class="footer_logo logo">
          <svg class="logo_icon icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
          </svg>
          <span>VillageAirBNB</span>
        </a>
        <p class="footer_info">Connecting travellers with authentic Uzbek village experiences since 2025</p>
      </div>


      <div class="footer-list--wrapper">
        <!-- footer list 1 -->
        <ul class="footer__list list-footer">
          <li><h3 class="footer-list__title">Company</h3></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">About us</a></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">how it works</a></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">careers</a></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">press</a></li>
        </ul>

        <!-- footer list 2 -->
        <ul class="footer__list list-footer">
          <li><h3 class="footer-list__title">support</h3></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">help center</a></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">safety guidelines</a></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">cancellation policy</a></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">contact us</a></li>
        </ul>

        <!-- footer list 3 -->
        <ul class="footer__list list-footer">
          <li><h3 class="footer-list__title">hosting</h3></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">become a host</a></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">host resources</a></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">host community</a></li>
          <li class="list-footer__item"><a class="list-footer__link" href="#">equipment rental</a></li>
        </ul>
      </div>
    </div>

    <div class="container footer__container-bottom">
      <p>Â© 2025 VillageAirBnB. All rights reserved. | Managed by Fergana Tourism Company</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="./js/main.js"></script>
  <script src="/js/properties.js"></script>
</body>
</html>